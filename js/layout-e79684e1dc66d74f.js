(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1820:function(e,t,a){Promise.resolve().then(a.t.bind(a,2445,23)),Promise.resolve().then(a.bind(a,2302))},2302:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var c=a(3827),n=a(2446),s=a.n(n),o=a(9235),r=a.n(o),i=a(4090),l=a(4961);async function d(){return await (await fetch("/api/checkSiteCode",{cache:"no-store"})).json()}function f(e){let{children:t}=e,[a,n]=(0,i.useState)(!1),[o,f]=(0,l._)("addedClasses",[]);return((0,i.useEffect)(()=>{d().then(e=>{1===e.code&&n(!0)}).catch(()=>{n(!1)})}),(0,i.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js")},[]),(0,i.useEffect)(()=>{(async function(){let e=await navigator.serviceWorker.ready;if("granted"===(await navigator.permissions.query({name:"periodic-background-sync"})).state)try{let t=await e.periodicSync.getTags();t.forEach(async t=>{o.some(e=>t==="timetable-".concat(e.school.code,"-").concat(e.grade,"-").concat(e.classNum))||await e.periodicSync.unregister(t)}),o.forEach(async a=>{t.some(e=>e==="timetable-".concat(a.school.code,"-").concat(a.grade,"-").concat(a.classNum))||await e.periodicSync.register("timetable-".concat(a.school.code,"-").concat(a.grade,"-").concat(a.classNum),{minInterval:36e5})})}catch(e){}})()},[o]),(0,i.useEffect)(()=>{r().setItem("addedClasses",o)},[o]),a)?(0,c.jsx)("html",{lang:"ko",className:"text-variable",style:{fontFamily:s().style.fontFamily},children:(0,c.jsx)("body",{children:(0,c.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between p-12",children:(0,c.jsxs)("div",{className:"border border-slate-300 rounded p-8",children:[(0,c.jsx)("h1",{className:"text-center text-3xl",children:"데이터를 가져올 수 없음"}),(0,c.jsx)("br",{}),(0,c.jsx)("p",{children:"컴시간 사이트가 변경되어 데이터를 가져올 수 없습니다."}),(0,c.jsx)("p",{children:"관리자에게 문의해주세요."})]})})})}):(0,c.jsx)("html",{lang:"ko",className:"text-variable",style:{fontFamily:s().style.fontFamily},children:(0,c.jsx)("body",{children:t})})}a(2445)},2445:function(){},2446:function(e){e.exports={style:{fontFamily:"'__Noto_Sans_KR_99422f', '__Noto_Sans_KR_Fallback_99422f'",fontStyle:"normal"},className:"__className_99422f"}}},function(e){e.O(0,[899,822,971,69,744],function(){return e(e.s=1820)}),_N_E=e.O()}]);